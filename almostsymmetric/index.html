<!doctype html>
<html>
<head>
<style>
body{
	margin-top:40px;
	background: black;
	text-align: center;
}
button{
	font-size: 30px;
	margin: 5px;
}
button:active{
	background: black;
	color: white;
}
#saved{
	color:white;
}
</style>
<script src='spork.js'></script>
<script>
//Random stuff-------------------------------------------------------
var RNGMOD=Math.pow(2,32);
var RNGSEED=0;

function RNG(){
	RNGSEED=(RNGSEED*1664525 + 1013904223)%RNGMOD;
  	return(RNGSEED/RNGMOD);
}
//----------------------------------------------------------------------------

var R, G, B;


function vectorColor(x){
  x=abs(sin(pi*x));
  //x=abs(x);
  var r=floor(x*R+(1-x)*(255-R));
  var g=floor(x*G+(1-x)*(255-G));
  var b=floor(x*B+(1-x)*(255-B));
  fillcolor(r,g,b);
}
function scaleNoise(x){
  if (x>0.5) return(1);
  else if (x<-0.5) return(-1);
  else return (2*x);
}
function sympix(x,y){
  fillrect(x,y,1,1);
  fillrect(y,x,1,1);
  fillrect(-x,y,1,1);
  fillrect(-y,x,1,1);
  fillrect(x,-y,1,1);
  fillrect(y,-x,1,1);
  fillrect(-x,-y,1,1);
  fillrect(-y,-x,1,1);
}
function flattenOutsideNoiseEdges(){
	var n=noiseGridSize;
	var x,y,z;
	for (x=0;x<=n;x++)
		for (y=0;y<=n;y++)
			for (z=0;z<=n;z++)
				if ((x==n) || (y==n))
					noiseValues[x][y][z]=0;	
}
function setup(){
  R=255;G=255;B=255;  
  //size(300,300);
 	random=RNG;
	RNGSEED=millisecond();
 }
var USING;
function draw(){
USING=RNGSEED;
setupNoise(floor(random()*5)+2);
  flattenOutsideNoiseEdges();
 save();
  translate(width/2,height/2);
  rotate(floor(random()*4)*90);

  var x,y;
  for (x=0;x<=width/2;x++)
    for (y=0;y<=x;y++){
      vectorColor(scaleNoise(noise(2*x/width,2*y/height)));
      sympix(x,y);
    }
  var N=noiseGridSize;
  for (x=1;x<N;x++)
    for (y=1;y<N;y++)
      noiseValues[x][y][0]=2*random()-1;
    for (x=0;x<=width/2;x++)
    for (y=0;y<=x;y++){
      vectorColor(scaleNoise(noise(2*x/width,2*y/height)));
      fillrect(x,y,1,1);
      fillrect(y,x,1,1);
    }
    restore();
    color('black');
    linewidth(2);
line(0,0,width,0,width,height,0,height,0,0);
	numbers.innerHTML=USING;
}
function saveNumbers(){
	saved.innerHTML+='<br>'+USING;
}
</script>
</head>
<body>
<div id='spork'></div>
<button onclick='draw();' id='drawbutton'>DRAW ANOTHER</button><br>
<button onclick='saveNumbers();' id='savebutton'>SAVE CODE</button>

<div id='numbers'></div>
<div id='saved'></div>
</body>
</html>
<!doctype html>
<html>
<head>
  <title>Bouncing Creature</title>
  <link rel="stylesheet" href="motion.css">
  <script src="spork.js"></script>
  <script>
  var x,y;
  var vx,vy;
  var ax,ay;
  var r;

  function bounce(){
    var e=0.95;

    if (x>width-r+15)
      vx=-e*abs(vx);
    if (x<r-15)
      vx=e*abs(vx);
    if (y>height-r+10)
      vy=-e*abs(vy);
    if (y<r)
      vy=e*abs(vy);
  }

  function setup(){
    x=width*random();
    y=height*random();
    vx=random()-0.5;
    vy=random()-0.5;
    ax=0;
    ay=0.01;
    r=40;

    loop();
  }

  function creature(x,y,r){
  save();
  translate(x,y);
  scale(r/200);
  //Head
  color("mediumseagreen");
  fillcolor("mediumseagreen");
  ellipse(0,-130,50,-60);
  fill();

  //Eyes
  color('black');
  fillcolor('black');
  circle(19,-135,7);
  fill();
  color('black');
  fillcolor('black');
  circle(-19,-135,7);
  fill();

  //Left arm
  color("mediumseagreen");
  fillcolor("mediumseagreen");
  rotate(-45);
  ellipse(-30,-90,20,-60);
  fill();

  //Right arm
  color("mediumseagreen");
  fillcolor("mediumseagreen");
  rotate(90);
  ellipse(30,-90,20,-60);
  fill();

  //Left leg
  color("mediumseagreen");
  fillcolor("mediumseagreen");
  ellipse(10,130,20,-60);
  fill();

  //Right leg
  save();
  color("mediumseagreen");
  fillcolor("mediumseagreen");
  rotate(90);
  ellipse(15,-130,20,-60);
  fill();
  restore();

  //Body
  save();
  color("lightgreen");
  fillcolor("lightgreen");
  rotate(-45);
  ellipse(0,20,100,130);
  fill();
  restore();

  //Shell pattern
  save();
  color("black");
  fillcolor("mediumorchid");
  triangle(-5,-5,-85,-30,-30,-85);
  fill();
  triangle(5,-5,85,-30,30,-85);
  fill();
  triangle(5,5,85,30,30,85);
  fill();
  triangle(-5,5,-85,30,-30,85);
  fill();
  restore();
  restore();
  }

  function draw(){
    clear();
  creature(x,y,r);

    x=x+vx;
    y=y+vy;

    vx=vx+ax;
    vy=vy+ay;

    bounce();
  }
  </script>
</head>
<body>
  <div id="wrapper">
    <div id="titleBar">Bouncing Creature</div>
      <div id="spork"></div>
      <button onclick='stoploop();'>Stop</button>
      <button onclick='startloop();'>Start</button>
      <button onclick='startover();'>Start Over</button>
      <a href="index.html">Motion Home</a>
  </div>
</body>
</html>

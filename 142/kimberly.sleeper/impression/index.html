<!doctype html>
<html>
<head>
  <style>
  canvas{
    max-width: 50%;
    max-height: 50%;
  }
  img{
    max-width: 50%;
    max-height: 50%;
  }
  </style>
  <script src='spork.js'></script>
  <script>
  //paste mark functions below here
    //////////--------------------------------------------------random lines

function randomLine(x,y,r){

  save();
  translate(x,y);
  rotate(random()*360);
  line(-r,0,r,0);
  restore();
}

///////////-----------------------------------------------brownian motion
function brownian(x,y){
   //var x,y;
 var vx,vy;
 var i;
 var a;

 //x=width*random();
 //y=height*random();
 //vx=2*(random()-0.5);
 //vy=2*(random()-0.5);

 for(i=0;i<100;i=i+1){

   a=random()*360;
   vx=3*COS(a);
   vy=3*SIN(a);

 line(x,y,x+vx,y+vy);

 x=x+vx;
 y=y+vy;
 }
}

function randomColor(x,y){
var possibleColors=[rgb(143,188,143,.5),
                    rgb(176,196,222,.5),
                    rgb(255,160,122,.5),
                    rgb(219,112,147,.1)];

 var theColors=possibleColors.random();

 //lines
 color(theColors);
 fillcolor(theColors);
}

/////////-----------------------------------------------------projectile

function randomMark(x,y){
   //var x,y;
 var vx,vy;
 var ax,ay;
 var i;

 //x=width*random();
 //y=height*random();
 vx=2*(random()-0.5);
 vy=2*(random()-0.5);
 ax=0;
 ay=0.01;

 for(i=0;i<50;i=i+1){

 line(x,y,x+vx,y+vy);

 x=x+vx;
 y=y+vy;

 vx=vx+ax;
 vy=vy+ay;
 }
}

function randomColor(x,y){
var possibleColors=[rgb(143,188,143,.5),
                    rgb(176,196,222,.5),
                    rgb(255,160,122,.5),
                    rgb(219,112,147,.1)];

 var theColors=possibleColors.random();

 //lines
 color(theColors);
 fillcolor(theColors);
}

////////-----------------------------noiseline
var randomColors=['purple','gold']
function noiseMark(x,y,r){
	save();
	translate(x,y);
    rotate(noise(abs(x/width),abs(y/height))*360);
    line(-r,0,r,0);
	linewidth(2);
	restore();
}



////////------------------------------------------------------hair

function hair(x,y){
   //var x,y;
 var vx,vy;
 var i;
 var a;

 //x=width*random();
 //y=height*random();
 //vx=2*(random()-0.5);
 //vy=2*(random()-0.5);

 for(i=0;i<100;i=i+1){

   a=noise(abs(x/width),abs(y/height))*325;
   vx=3*COS(a);
   vy=3*SIN(a);

 line(x,y,x+vx,y+vy);

 x=x+vx;
 y=y+vy;
 }
}

function randomColor(x,y){
var possibleColors=[rgb(143,188,143,.5),
                    rgb(176,196,222,.5),
                    rgb(255,160,122,.5),
                    rgb(219,112,147,.1)];

 var theColors=possibleColors.random();

 //lines
 color(theColors);
 fillcolor(theColors);
}

  //paste mark functions above here
  var f=randomLine;
  var R=[];
  var G=[];
  var B=[];
  var A=[];
  function setup(){
    size(theImage.width,theImage.height);
    drawImage(theImage,width/2,height/2,width,height);
    copyImageData(R,G,B,A);
    clear();
    loop();
    setupNoise(5);
  }
  function draw(){
    var x=floor(random()*width);
    var y=floor(random()*height);
    color(R[x][y],G[x][y],B[x][y],A[x][y]);

    f(x,y,20);
  }
  </script>
</head>
<body>
  <div id='spork'></div>
  <button onclick="stoploop();">Stop</button>
  <button onclick="startloop();">Start</button>
  <button onclick="startover();">Start Over</button>
  <button onclick="canvasToNewImg();">Make Image</button>
  <button onclick="f=randomLine;startover();">Lines</button>
  <button onclick="f=brownian;startover();">Brownian</button>
  <button onclick="f=randomMark;startover();">Projectile</button>
  <button onclick="f=hair;startover();">Hair</button>
  <button onclick="f=noiseMark;startover();">Noise Line</button>
  <br />
  <img src="donut.jpg" id="theImage"/>
</body>
</html>

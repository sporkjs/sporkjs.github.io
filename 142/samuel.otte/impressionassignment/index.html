<!doctype html>
<html>
<head>
  <title>Impressions</title>
  <link rel="stylesheet" href='style.css'/>
  <script src='spork.js'></script>
  <script>
  //paste mark functions below here=
  //////////--------------------------------------------------random lines
function randomLine(x,y,r){
save();
translate(x,y);
rotate(random()*360);
line(-r,0,r,0);
restore();
}

///////////-----------------------------------------------brownian motion
function brownian(x,y){
 //var x,y;
var vx,vy;
var i;
var a;

//x=width*random();
//y=height*random();
//vx=2*(random()-0.5);
//vy=2*(random()-0.5);

for(i=0;i<100;i=i+1){

 a=random()*360;
 vx=3*COS(a);
 vy=3*SIN(a);

line(x,y,x+vx,y+vy);

x=x+vx;
y=y+vy;
}
}


/////////-----------------------------------------------------projectile
function projectile(x,y){
 //var x,y;
var vx,vy;
var ax,ay;
var i;

//x=width*random();
//y=height*random();
vx=2*(random()-0.5);
vy=2*(random()-0.5);
ax=0;
ay=0.01;

for(i=0;i<50;i=i+1){

line(x,y,x+vx,y+vy);

x=x+vx;
y=y+vy;

vx=vx+ax;
vy=vy+ay;
}
}


////////-----------------------------noiseline
function noiseLine(x,y,r){
  save();
  translate(x,y);
  rotate(noise(abs(x/width),abs(y/height))*360);
  linewidth(1);
  line(-r,0,r,0);
  restore();
}



////////------------------------------------------------------hair

function hair(x,y){
 //var x,y;
 var vx,vy;
 var i;
 var a;

 for(i=0;i<100;i=i+1){

   a=noise(abs(x/width),abs(y/height))*325;
   vx=3*COS(a);
   vy=3*SIN(a);

   line(x,y,x+vx,y+vy);

   x=x+vx;
   y=y+vy;
 }
}


  //paste mark functions above here
var f=randomLine
var R=[];
var G=[];
var B=[];
var A=[];
  function setup(){
    size(theImage.width,theImage.height);
    drawImage(theImage,width/2,height/2,width,height);
    copyImageData(R,G,B,A);
    clear();
    loop();
    setupNoise(5);
  }
  function draw(){
    var x=floor(random()*width);
    var y=floor(random()*height);
    color(R[x][y],G[x][y],B[x][y],A[x][y]);

    f(x,y,20);

  }
  </script>
</head>
<body>
  <div id='wrapper'>
    <div id="titleBar">Impressions</div>
    <div id='spork'></div>
  <button onclick='stoploop();'>Stop</button>
  <button onclick='startloop();'>Start</button>
  <button onclick='startover();'>Start Over</button>
  <button onclick='canvasToNewImg();'>Make Image</button>
  <br />
  <button onclick='f=randomLine;startover();'>Lines</button>
  <button onclick='f=brownian;startover();'>Brownian</button>
  <button onclick='f=projectile;startover();'>Projectile</button>
  <button onclick='f=hair;startover();'>Hair</button>
  <button onclick='f=noiseLine;startover();'>Noise Line</button>
  <br />
  <img src='images/mountains.jpg' id='theImage'/>
  </body>
</div>
</html>

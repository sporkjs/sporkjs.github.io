<!DOCTYPE html>
<html>
<head>
<title>Game</title>
<link rel="stylesheet" type="text/css" href="style.css">
<meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
<style>
</style>
<script src="spork.js"></script>
<script src="portfolio.js"></script>
<script>

var BallX;
var BallY;
var CupX;
var score;
var gameNotOver;
var v;

function setup(){
	BallY=0;
  	BallX=random()*400;
  	CupX=150;
  	score=0;
  	timestep(10);
  	gameNotOver=true;
  	v=1;
  	loop();
  
}

function drawBall(){
  	circle(BallX,BallY,10);
  	fill();
}

function draw(){
  	clear();
	drawBackground();
  	drawBall();
  	drawCup();
  	filltext(score,15,40);
  	BallY=BallY+v;
  	bounce(); 	
}

function drawCup(){
  	arc(CupX,380,15,0,180);
  	fill();
}

function drawBackground(){
	background('aquamarine');

linewidth(.1);
fillcolor(0,0,255,.2);
rect(10,20,400,100);
fill();

fillcolor(0,0,255,.2);
rect(0,287,390,100);
fill();

fillcolor(50,0,205,.5);
rect(0,30,155,75);
fill();

save();
translate(70,0)
fillcolor(0,100,155,.5);
rect(100,0,50,400);
fill();

fillcolor(50,10,125,.85);
rect(110,0,25,400);
fill();
restore();

fillcolor(0,155,100,.5);
circle(330,100,150);
fill();

fillcolor(0,155,100);
circle(350,125,100);
fill();

fillcolor(100,30,125);
circle(350,125,50);
fill();

fillcolor(0,145,110);
circle(50,285,100);
fill();

fillcolor(0,155,100,.5);
circle(55,315,150);
fill();

fillcolor(100,30,125);
circle(50,285,50);
fill();

fillcolor(50,0,205,.5);
rect(400,375,-165,-75);
fill();
}
	

function bounce(){
  	if(BallY>400){
     if((CupX-10<BallX)&(BallX<CupX+10)&gameNotOver){
       BallY=0;
       BallX=random()*400;
 	   score=score+1; 
       v=v+.2;
     }
     
     else {
       filltext('Game Over!!',75,200);
       gameNotOver=false;
     } 
     }
}

function onkeydown(){
  	if (keyCode == rightArrow)
      CupX=CupX+8;
  	if(keyCode == leftArrow)
      CupX=CupX-8;
}

</script>
</head>
<body>
<script>
writeHeader();
</script>
<div id="spork"></div>

<script>
writeFooter();
</script>
</body>
</html>
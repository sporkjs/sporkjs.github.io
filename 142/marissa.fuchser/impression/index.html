<!doctype html>
<html>
<head>
  <title>Impression</title>
  <link rel="stylesheet" href="impression.css">
  <script src="spork.js"></script>
  <script>
  //paste mark functions below here
  function brownianMark(x,y){
 var vx,vy;
  var i;
 var a;

    for(i=0;i<700;i=i+1){
      a=360*random();
      vx=COS(a);
      vy=SIN(a);
   line(x,y,x+vx,y+vy);

   x=x+vx;
   y=y+vy;

    }
  }
  function projectileMark(x,y){
 var vx,vy;
 var ax,ay;
   var i;

   vx=2*(random()-0.5);
   vy=2*(random()-0.5);
   ax=0;
   ay=0.01;
    for(i=0;i<50;i=i+1){
   line(x,y,x+vx,y+vy);

   x=x+vx;
   y=y+vy;

   vx=vx+ax;
   vy=vy+ay;
    }
  }
  function hairMark(x,y){
 var vx,vy;
  var i;
 var a;

    for(i=0;i<100;i=i+1){
      a=noise(abs(x/width),abs(y/height))*360;
      vx=1*COS(a);
      vy=1*SIN(a);
   line(x,y,x+vx,y+vy);

   x=x+vx;
   y=y+vy;

    }
  }
  function randomLine (x,y,r){
    save();
    translate(x,y);
    rotate(360*random());
    line(-r,0,r,0);
    restore();
  }
  function noiseMark(x,y,r){
   save();
    translate(x,y);
    rotate(noise(abs(x/width),abs(y/height))*360);
    line(-r,0,r,0);
    restore();

  }
  //paste mark functions above here
var f=randomLine;
var R=[];
var G=[];
var B=[];
var A=[];
  function setup(){
    size(MountainImage.width,MountainImage.height);
    drawImage(MountainImage,width/2,height/2,width,height);
    copyImageData(R,G,B,A);
    clear();
loop();
setupNoise(5);
  }
  function draw(){
    var x=floor(random()*width);
    var y=floor(random()*height);
    color(R[x][y],G[x][y],B[x][y],A[x][y]);
    f(x,y,20);
  }
  </script>
</head>
<body>
  <div id="wrapper">
      <div id="titleBar">Impression</div>
      <div id="mainNavigation">
    <div class='tab'>
      <div class='tab'>  <a href='../index.html'>Home</a></div>

    <div id="content">
  <div id='spork'></div>
  <button onclick="stoploop();">Stop</button>
  <button onclick="startloop();">Start</button>
  <button onclick="startover();">Start Over</button>
  <button onclick="canvasToNewImg();">Make Image</button>
  <br/>
<button onclick="f=randomLine;startover();">Lines</button>
<button onclick="f=brownianMark;startover();">Brownian</button>
<button onclick="f=projectileMark;startover();">Projectile</button>
<button onclick="f=hairMark;startover();">Hair</button>
<button onclick="f=noiseMark;startover();">Noise</button>
<br/>
<img src='Mountain.jpg ' id='MountainImage'/>
<div id="secondaryNavigation"></div>
</br/>
</script>
</div>
</body>
</html>

<!Doctype HTML>

<html>

  <head>

<meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
<link rel="stylesheet" type="text/css" href="styleClass.css">
<script src='header.js'></script>

      <script type="text/javascript" src="spork.js"></script>

    <script>

var x,y,r; //position and radius of the circle
var vx,vy; //velocity in both x and y directions
var e; //variable for elasticity
var ax,ay; //accelerations

function setup() {
  x = 100;
  y = 50;
  r = 20;
  vx = 0;
  vy = 0;
  e = -.7;
  ax = 0;
  ay = .01;
  loop();
}

function checker() {
  background('black')
  color('aqua');
  fillcolor('aqua');
  circle(x,y,r);
  fill();
}

function onmousedown() {
  if (distanceToChecker() < r){
    x = mouseX;
    y = mouseY;
  }
}

function onmousemove() {
  if ((mouseDown) && (distanceToChecker() < r)) {
    vx = mouseX - x;
    vy = mouseY - y;
    x = mouseX;
    y = mouseY;
  }
}

function draw() {
  if(!((mouseDown) && (distanceToChecker() < r))) {
    x += vx;
    y += vy;
    bounce();

    vx += ax;
    vy += ay;  
  }
  clear();
  checker();
}

function distanceToChecker() {
  var dx = x - mouseX;
  var dy = y - mouseY;
  
  return(sqrt(dx*dx+dy*dy));
}

function bounce() {
  if (x > width-r) {
    vx = vx * e;
    x = width - r;
  }
  if (y > height-r) {
    vy = vy * e;
    y = height - r;
  }
  if (x < r) {
    vx = vx * e;
    x = r;
  }
  if (y < r) {
    vy = vy * e;
    y = r;
  }
}

    </script>

  </head>

  <body>

    <script>showHeader();</script>

    <div class='title'>Bouncing Ball</div>

    <p><div id='spork'></div></p>

    <script>showFooter();</script>

  </body>

</html>
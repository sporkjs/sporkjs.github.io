<!doctype html>
<html>
<head>
  <script src='spork.js'></script>
  <script>
  //paste mark functions below here
  function randomLine (x,y,r){
  save();
    translate(x,y);
  rotate(random()*360);
    line(-r,0,r,0);
    linewidth(2);
    restore();
  }

function brownian(x,y,r){
	var i;
  	var a;
for (i=0;i<10;i=i+1){
   a=random()*360;
  vx=2*COS(a);
  vy=2*SIN(a);
  line(x,y,x+vx,y+vy);
  x=x+vx;
  y=y+vy;
}
}
function hair(x,y,r){
  	var i;
    var a;
  for (i=0;i<20;i=i+1){
   a=noise(abs(x/width),abs(y/height))*360;
    vx=1*COS(a);
    vy=1*SIN(a);
    line(x,y,x+vx,y+vy);
    x=x+vx;
    y=y+vy;
  }
  }
function noiseLine(x,y,r){
  save();
    translate(x,y);
  rotate(noise(abs(x/width),abs(y/height))*70);
    line(-r,0,r,0);
    restore();
  }
  function projectile(x,y){
  	var vx,vy;
  	var ax,ay;
  	var i;
    vx=2*(random()-0.5);
    vy=2*(random()-0.5);
    ax=0;
    ay=0.01;
  for (i=0;i<20;i=i+1){
    line(x,y,x+vx,y+vy);
    x=x+vx;
    y=y+vy;
    vx=vx+ax;
    vy=vy+ay;
  }
}
  //paste mark functions above here
var f=randomLine;
var R=[];
var G=[];
var B=[];
var A=[];

function setup(){
size(theImage.width,theImage.height);
drawImage(theImage,width/2,height/2,width,height);
copyImageData(R,G,B,A);
clear();
setupNoise(5);
loop();
  }
function draw(){
    var x=floor(random()*width);
    var y=floor(random()*height);
    color(R[x][y],G[x][y],B[x][y],A[x][y]);

     f(x,y,20);
  }

  </script>
</head>
<body>
  <div id='spork'></div>
  <button onclick='startloop();'>Start</button>
  <button onclick='stoploop();'>Stop</button>
  <button onclick='sartover();'>Start Over</button>
  <button onclick='canvasToNewImg();'>Make Image</button>
<br/>
  <button onclick='f=randomLine;startover();'>Lines</button>
  <button onclick='f=brownian;startover();'>Brownian</button>
  <button onclick='f=hair;startover();'>Hair</button>
  <button onclick='f=noiseLine;startover();'>Noise Line</button>
  <button onclick='f=projectile;startover();'>Projectile</button>
<br/>
<img src='flora.jpg' id='theImage' />
</body>
</html>

<!doctype html>
<html>
<head>
  <script src='spork.js'></script>
  <script>
  //paste mark functions below here
  var small=20;
  var theColors=['pink','gray','cyan','yellow'];
  function myRect(x,y,w,h){
x=floor(x)
y=floor(y)
     fillcolor(R[x][y],G[x][y],B[x][y],A[x][y]);
      rect(x,y,w,h);
      fill();
  }
  function mgrid(x,y,w,h){
    var l,k;
    if((w<small) || (h<small) ) {
      myRect(x,y,w,h);

    }
    else if (w>h){ //wide rect
      l=random()*w;  //left
      mgrid(x,y,l,h); //right
      mgrid(x+l,y,w-l,h);
    }
    else{ //tall rect
      k=random()*h;
      mgrid(x,y,w,k);  //top
      mgrid(x,y+k,w,h-k); //bottom

    }
  }

  var f=mgrid;
  var R=[];
  var G=[];
  var B=[];
  var A=[];
  function setup(){
   size(theImage.width,theImage.height);
    drawImage(theImage,width/2,height/2,width,height);
    copyImageData(R,G,B,A);
    clear();

  }
  function draw(){
    mgrid(0,0,width,height);





  }


  </script>
</head>
<body>
  <div id='spork'></div>
  <button onclick='stoploop();'>stop</button>
  <button onclick='startloop();'>start</button>
    <button onclick='startover();'>start over</button>
    <button onclick='canvasToNewImg();'>make image</button>
    <br />
    <button onclick='f=mGrid;startover();'>Grid</button>

    <br />
    <img src='image1.jpg' id='theImage' />


</body>
</html>

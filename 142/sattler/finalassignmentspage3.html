<!DOCTYPE html>
<html>

<head> 

	<meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
	<link rel="stylesheet" type="text/css" href="finalassignmentpagestyle.css">
	<script src='header.js'></script>

	<script type="text/javascript" src="spork.js"></script>
<script>
var r; 
var score;
 
function onkeydown (){

	if (keyChar == 'R'){
    		 r=r+10;
	}
	if (keyChar =='L'){
   		 r=r-10;
	}

         if (keyChar == 'F'){
    		 mx=200;
                 my=200;
               mdx = cos((r-90)*pi/180);
               mdy = sin((r-90)*pi/180);
         }

}


function setup (){
 //initialize x and y
     r=0;
     x=240;
     y=70;
     dx=.2;
     dy=.2;  
     mx=800;
     my=800;
     mdx=1;
     mdy=1;
     score=0;
   loop();
}

function spaceship(){
  save();
  translate(200,200);
  rotate(r);
  color('purple');
  rect(-20,-20, 40, 40);
  fillcolor('purple');
  fill();
  color('yellow');
  triangle(-20, -20, 20, -20, 0, -40);
  fillcolor('yellow')
  fill();
  restore();  
}

function draw (){
 //clear
 //draw something at (x,y)
     clear();
     background('black');
        missile();
        spaceship();
        bear ();
        checkForCollision();
        checkForHit();
        filltext(score, 350, 390);        
}

function bear(){

 save();
translate(x,y);

scale(.2);

color(140,70,20);
circle(-70, -90, 40);
fillcolor(140,70,20);
fill();

color(140,70,20);
circle(70, -90, 40);
fillcolor(140,70,20);
fill();


translate(0,0);
rect(-100,-100,200,200);
fillcolor(140,70,20);
fill();
 
circle(-50,-50,15);
fillcolor(70,130,180);
fill();
translate(100,0,5);
circle(-50,-50,15);
fillcolor(70,130,180);
fill()

linewidth('6');
color(240,128,128);
triangle(-100,20,-120,-10,-70,0)
fillcolor(240,128,128)
fill();

line(-100,20,-100,75);

rotate(40);
arc(-60,80,55, 0,100);

restore();

x=(x+dx+width) %width;
y=(y+dy+height) %height;

}

function missile(){

mx=mx+mdx;

my=my+mdy;

 color('red');
  fillcolor('red');
  circle (mx,my,10);
  fill();
}

function explosion (){
     color('red');
     linewidth(5);
     circle (200, 200, 50);
     color('white');
     circle(200, 200, 60);
     color('blue');
     circle(200, 200, 70);
   
}     

function checkForCollision (){
    if (sqrt ((200 - x)*(200-x) + (200 - y) *(200-y)) <20){
      stoploop();
      explosion();
      fillcolor('yellow');
      fillText("Mission Failed", 30, 90);
     }
   }
function checkForHit(){
   if (sqrt ((mx - x)*(mx-x) + (my - y) *(my-y)) <30){
     score = score+1;
     mx=800;
     my=800;
  x = random() * width;
  y = random() * height;
  mdx = 0;
  mdy= 0;
  }
}
</script>


</head>
<body>

	<script>showHeader();</script>
		<p>
		<b> Asteroid Game </b>
		<p>
		<div id='spork'></div>
		<p>
		This assignment required us to create a functioning and responsive asteroid vs spaceship game. <br>
		By using the Spork editor we used a wide variety of functions and commands to successfully create the 		game. <br><p>
		<b> Objectives: </b> <br> Fire missiles at "bear-oid" before the the bear hits you. <br> Each bear you 		hit is 1 point. <br> If you get hit by the bear - you loose. Don't lose. <br>
		Fire= 'F' key <br>
		Rotate Left= 'L' key <br>
		Rotate Right= 'R' key <br>
		If you loose and want to play again, press the 'refresh page' button. 
		
	<script>showFooter();</script>

</body>

</html>
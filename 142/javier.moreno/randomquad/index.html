<!doctype html>
<html>
<head>
  <script src='spork.js'></script>
  <script>
  var R=[];
  var G=[];
  var B=[];
  var A=[];
  function setup(){
    size(theImage.width,theImage.height);
    drawImage(theImage,width/2,height/2,width,height);
    copyImageData(R,G,B,A);
    clear();
    setupNoise(5);
    loop();
    color(0,0,0,0);
  }
  function draw(){
    save();

    var x1,y1,x2,y2,x3,y3,x4,y4,c1,c2;

    cx = random()*width;
    cy = random()*height;
    bx = 250;
    by = 20;

    x1 = cx - random()*bx;
    y1 = cy - random()*by;
    x2 = cx + random()*bx;
    y2 = cy - random()*by;
    x3 = cx + random()*bx;
    y3 = cy + random()*by;
    x4 = cx - random()*bx;
    y4 = cy + random()*by;

    quad(x1,y1,x2,y2,x3,y3,x4,y4);
    clip();
    cx = random()*width;
    cy = random()*height;
    r = random()*360;
    drawImage(theImage,cx,cy,width,height,r);
    restore();
  }
  </script>
</head>
<body>
  <div id='spork'></div>
  <button onclick="stoploop();">Stop</button>
  <button onclick="startloop();">Start</button>
  <button onclick="startover();">Start Over</button>
  <button onclick="canvasToNewImg();">Make Image</button>
  <br />
  <img src='2.jpg' id='theImage' />
</body>
</html>
